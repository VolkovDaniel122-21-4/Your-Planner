CREATE TABLE SHOPPING
(
  ID_PRODUCT integer GENERATED BY DEFAULT AS IDENTITY  NOT NULL,
  NAME_PRODUCT varchar(255),
  COST decimal(3,2),
  DATE_BUY date,
  AMOUNT_PRODUCT decimal(3,1),
  PRICE decimal(3,2),
  ID_PLAN integer,
  ISBOUGHT char(1),
  LINK varchar(255),
  CONSTRAINT INTEG_2 PRIMARY KEY (ID_PRODUCT)
);

GRANT DELETE, INSERT, SELECT, UPDATE
 ON SHOPPING TO  pr_01_user;

GRANT DELETE, INSERT, REFERENCES, SELECT, UPDATE
 ON SHOPPING TO  SYSDBA WITH GRANT OPTION;

CREATE TABLE PLAN_LIST
(
ID_PLAN integer GENERATED BY DEFAULT AS IDENTITY NOT NULL,
NAME_PLAN varchar(255),
DATE_PLAN date,
ACTUAL char(1),
CONSTRAINT INTEG_3 PRIMARY KEY (ID_PLAN)
);


GRANT DELETE, INSERT, SELECT, UPDATE
ON PLAN_LIST TO PR_01_USER;

ALTER TABLE SHOPPING
ADD CONSTRAINT FK_SHOPPING_PLAN_LIST
FOREIGN KEY (ID_PLAN)
REFERENCES PLAN_LIST (ID_PLAN)
ON DELETE CASCADE
ON UPDATE CASCADE;
